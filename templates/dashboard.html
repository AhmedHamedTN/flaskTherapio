<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Therapio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-combined.min.css" rel="stylesheet">

      <!-- Isolated Version of Bootstrap, not needed if your site already uses Bootstrap -->
    <link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>


    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>

    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
-->
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Therapio</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="{{ url_for('dashboard', userid=userid) }}">Dashboard</a></li>
            </ul>
          </div>
            <!--/.nav-collapse -->
        </div>
      </div>
    </div>

 {#   <div class="container">
                    <div class="bootstrap-iso">
 <div class="container-fluid">
  <div class="row">
   <div class="col-md-6 col-sm-6 col-xs-12">

    <!-- Form code begins -->
    <form method="post">
      <div class="form-group"> <!-- Date input -->
        <label class="control-label" for="date">Date</label>
        <input class="form-control" id="start" name="startdate" placeholder="MM/DD/YYY" type="text"/>
      </div>
     </form>
     <!-- Form code ends -->

    </div>
  </div>
 </div>

    </div>
</div>

    <div class="container">
                    <div class="bootstrap-iso">
 <div class="container-fluid">
  <div class="row">
   <div class="col-md-6 col-sm-6 col-xs-12">

    <!-- Form code begins -->
    <form method="post">
      <div class="form-group"> <!-- Date input -->
        <label class="control-label" for="date">Date</label>
        <input class="form-control" id="end" name="enddate" placeholder="MM/DD/YYY" type="text"/>
      </div>
      <div class="form-group"> <!-- Submit button -->
        <button id="SendDates" class="btn btn-primary " name="submit" type="submit">Submit</button>
      </div>
     </form>
     <!-- Form code ends -->

    </div>
  </div>
 </div>

    </div>
</div>#}


    <div class="container">
        <form class="form-signin" method="post" action="">
            {{ form.hidden_tag() }}
            {{ form.dt(class="dtpickstart") }}
{#
            {{ form.hidden_tag() }}
            {{ form.dt(class="dtpickend") }}#}

            <button class="btn-primary" type="submit">Check</button>
        </form>
    </div>

    <div class="container">
        <br>
        <h1>General informations :</h1>
        <h2> <strong>Patient Name :</strong> {{ usersDict[0]['name'] }}</h2>
        <h2> <strong>Patient Age :</strong> {{ usersDict[0]['age'] }}</h2>
        <h2> <strong>Selected date :</strong> {{ starttime }}</h2>
        <h2> Day - 15 = {{ last15 }}</h2>


        <p> Features : {{ calls_ftr_dict|safe }}</p>
        <p> Facebook posts : {{ FBs_dict|safe }}</p>

    ​<div id="containerSpiderChart" style="min-width: 310px; height: 400px; margin: 0 auto"></div>



	<div id="containerColumn" style="min-width: 400px; height: 400px; margin: 0 auto"></div>



    ​<div id="containerPosts" style="min-width: 310px; height: 400px; margin: 0 auto"></div>



    ​<div id="containerHeatMap" style="min-width: 310px; height: 400px; margin: 0 auto"></div>



    ​<div id="containerBoxPlot" style="min-width: 310px; height: 400px; margin: 0 auto"></div>



    <hr>
	<footer class="footer">
	   <p class="pull-left">&copy; Theralytics 2016</p>
	   <p class="pull-right"><a href="#">Back to top</a></p>
	</footer>
    </div> <!--end container-->
    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!--  jQuery -->
    <script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <!-- Bootstrap -->
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>

    <!-- Highcharts -->
	<script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>


    <!-- Hight charts-->

    <!-- Spider chart-->
    <script type="text/javascript">
        $(function () {

    $('#containerSpiderChart').highcharts({

        chart: {
            polar: true,
            type: 'line'
        },

        title: {
            text: 'All Features',
            x: -80
        },

        pane: {
            size: '80%'
        },

        xAxis: {
            categories: ['Loudness', 'Max Amplitude', 'Max DBFS', 'Max Possible Amplitude'],
            tickmarkPlacement: 'on',
            lineWidth: 0
        },

        yAxis: {
            gridLineInterpolation: 'polygon',
            lineWidth: 0,
            min: 0
        },

        tooltip: {
            shared: true,
            pointFormat: '<span style="color:{series.color}"> {series.name}: <b> Hz {point.y:,.0f} </b><br/>'
        },

        legend: {
            align: 'right',
            verticalAlign: 'top',
            y: 70,
            layout: 'vertical'
        },

        series: [{
            name: 'Features value',

            data: [{{ calls_ftr_dict[0]['loudness'] }}, {{ calls_ftr_dict[0]['maxA'] }}, {{ calls_ftr_dict[0]['loudness'] }}, {{ calls_ftr_dict[0]['maxPA'] }}],
            pointPlacement: 'on'
        }]

    });
});
    </script>

    <!-- Area chart-->
   <!-- <script type="text/javascript">

        $(function () {
    $('#containerPosts').highcharts({
        chart: {
            type: 'area',
            inverted: true
        },
        title: {
            text: 'Average fruit consumption during one week'
        },
        subtitle: {
            style: {
                position: 'absolute',
                right: '0px',
                bottom: '10px'
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -150,
            y: 100,
            floating: true,
            borderWidth: 1,
            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
        },
        xAxis: {
            categories: [
                'Monday',
                'Tuesday',
                'Wednesday',
                'Thursday',
                'Friday',
                'Saturday',
                'Sunday'
            ]
        },
        yAxis: {
            title: {
                text: 'Number of units'
            },
            labels: {
                formatter: function () {
                    return this.value;
                }
            },
            min: 0
        },
        plotOptions: {
            area: {
                fillOpacity: 0.5
            }
        },
        series: [{
            name: 'John',
            data: [3, 4, 3, 5, 4, 10, 12]
        }, {
            name: 'Jane',
            data: [1, 3, 4, 3, 3, 5, 4]
        }]
    });
});
    </script>-->

    <script type="text/javascript">
        $(function () {
    $('#containerPosts').highcharts({
        chart: {
            type: 'areaspline'
        },
        title: {
            text: 'Average loudness during one week'
        },
        legend: {
            layout: 'vertical',
            align: 'left',
            verticalAlign: 'top',
            x: 150,
            y: 100,
            floating: true,
            borderWidth: 1,
            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
        },
        xAxis: {
            categories: [

                {% for dateC  in calls_ftr_dict %}
                    '{{ dateC['createdat'] }}',
                {% endfor %}

            ],
            plotBands: [{ // visualize the weekend
                from: 4.5,
                to: 6.5,
                color: 'rgba(68, 170, 213, .2)'
            }]
        },
        yAxis: {
            title: {
                text: 'loudness level'
            }
        },
        tooltip: {
            shared: true,
            valueSuffix: ' Hz'
        },
        credits: {
            enabled: false
        },
        plotOptions: {
            areaspline: {
                fillOpacity: 0.5
            }
        },
        series: [{
            name: '{{ usersDict[0]['name'] }}',
            data: [
                {% for callFtr  in calls_ftr_dict %}
                    {{ callFtr['loudness'] }},
                {% endfor %}
            ]
        }
        ]
    });
});
    </script>

    <!-- Column chart-->
    <script type="text/javascript">
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'containerColumn',
                type: 'column'
            },
            title: {
                text: 'Number of posts per day'
            },
            xAxis: {
                categories:
                 [
                    {% for Fb  in FBs_dict %}
                        '{{ Fb['createdat'] }}',
                    {% endfor %}
                ],
                title: {
                    text: null
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Number of Posts',
                    align: 'high'
                },
                labels: {
                    overflow: 'justify'
                }
            },
            tooltip: {
                formatter: function() {
                    return ''+
                        this.series.name +': '+ this.y +' posts';
                }
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -100,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF',
                shadow: true
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Number of posts',
                data: [
                 {% for Fb  in FBs_dict %}
                    {{ Fb['numpost'] }},
                {% endfor %}]
            }]
        });
    });

	</script>

        <!-- Heat Map-->
    <script type="text/javascript">

        $(function () {

    $('#containerHeatMap').highcharts({

        chart: {
            type: 'heatmap',
            marginTop: 40,
            marginBottom: 80,
            plotBorderWidth: 1
        },


        title: {
            text: 'number of posts per weekday'
        },

        xAxis: {
            categories: ['Alexander', 'Marie', 'Maximilian', 'Sophia', 'Lukas', 'Maria', 'Leon', 'Anna', 'Tim', 'Laura']
        },

        yAxis: {
            categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
            title: null
        },

        colorAxis: {
            min: 0,
            minColor: '#FFFFFF',
            maxColor: Highcharts.getOptions().colors[0]
        },

        legend: {
            align: 'right',
            layout: 'vertical',
            margin: 0,
            verticalAlign: 'top',
            y: 25,
            symbolHeight: 280
        },

        tooltip: {
            formatter: function () {
                return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> posted <br><b>' +
                    this.point.value + '</b> posts on Facebook on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';
            }
        },

        series: [{
            name: 'Sales per employee',
            borderWidth: 1,
            data: [[0, 0, 10], [0, 1, 19], [0, 2, 8], [0, 3, 24], [0, 4, 67], [1, 0, 92], [1, 1, 58], [1, 2, 78], [1, 3, 117], [1, 4, 48], [2, 0, 35], [2, 1, 15], [2, 2, 123], [2, 3, 64], [2, 4, 52], [3, 0, 72], [3, 1, 132], [3, 2, 114], [3, 3, 19], [3, 4, 16], [4, 0, 38], [4, 1, 5], [4, 2, 8], [4, 3, 117], [4, 4, 115], [5, 0, 88], [5, 1, 32], [5, 2, 12], [5, 3, 6], [5, 4, 120], [6, 0, 13], [6, 1, 44], [6, 2, 88], [6, 3, 98], [6, 4, 96], [7, 0, 31], [7, 1, 1], [7, 2, 82], [7, 3, 32], [7, 4, 30], [8, 0, 85], [8, 1, 97], [8, 2, 123], [8, 3, 64], [8, 4, 84], [9, 0, 47], [9, 1, 114], [9, 2, 31], [9, 3, 48], [9, 4, 91]],
            dataLabels: {
                enabled: true,
                color: '#000000'
            }
        }]

    });
});


    </script>

            <!-- Box Machine learning-->

    <script type="text/javascript">
        $(function () {
    $('#containerBoxPlot').highcharts({

        chart: {
            type: 'boxplot'
        },

        title: {
            text: 'Highcharts Box Plot Example'
        },

        legend: {
            enabled: false
        },

        xAxis: {
            categories: ['1', '2', '3', '4', '5'],
            title: {
                text: 'Experiment No.'
            }
        },

        yAxis: {
            title: {
                text: 'Observations'
            },
            plotLines: [{
                value: 932,
                color: 'red',
                width: 1,
                label: {
                    text: 'Theoretical mean: 932',
                    align: 'center',
                    style: {
                        color: 'gray'
                    }
                }
            }]
        },

        series: [{
            name: 'Observations',
            data: [
                [760, 801, 848, 895, 965],
                [733, 853, 939, 980, 1080],
                [714, 762, 817, 870, 918],
                [724, 802, 806, 871, 950],
                [834, 836, 864, 882, 910]
            ],
            tooltip: {
                headerFormat: '<em>Experiment No {point.key}</em><br/>'
            }
        }, {
            name: 'Outlier',
            color: Highcharts.getOptions().colors[0],
            type: 'scatter',
            data: [ // x, y positions where 0 is the first category
                [0, 644],
                [4, 718],
                [4, 951],
                [4, 969]
            ],
            marker: {
                fillColor: 'white',
                lineWidth: 1,
                lineColor: Highcharts.getOptions().colors[0]
            },
            tooltip: {
                pointFormat: 'Observation: {point.y}'
            }
        }]

    });
});
    </script>


    <!-- Date pickers get data-->
    <script>

	$(function() {
		$( ".dtpickstart" ).datepicker();
	});

{#    $(function() {
		$( ".dtpickend" ).datepicker();
	});#}


	</script>


    <!-- Date pickers get data js first try-->
{#    <script>
    $(document).ready(function(){
     // var date_input=$('input[name="startdate"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'mm/dd/yyyy',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      $("#start").datepicker(options);
    })
    </script>
    <script>
    $(document).ready(function(){
    //  var date_input=$('input[name="enddate"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'mm/dd/yyyy',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      $("#end").datepicker(options);
    })
</script>#}


    <!-- Date pickers declarations-->
   {# <script>
                $(document).ready( function() {
        $('#SendDates').click(function() {
           var startdate = document.getElementById("start").value;
            //window.location='/dashboard/'+ userid;
            //$('#koo').append('<div id="test">'+userid+'</div>');
           $.post(
              "/getStartDate",
              { startdate: startdate }
           ).done(function (reply) {
              $('#reply').empty().append(reply);
           });
        });
  });


                $(document).ready( function() {
        $('#SendDates').click(function() {
           var enddate = document.getElementById("end").value;
            //window.location='/dashboard/'+ userid;
            //$('#koo').append('<div id="test">'+userid+'</div>');
           $.post(
              "/getEndDate",
              { enddate: enddate }
           ).done(function (reply) {
              $('#reply').empty().append(reply);
           });
        });
  });
    </script>#}

  </body>
</html>
